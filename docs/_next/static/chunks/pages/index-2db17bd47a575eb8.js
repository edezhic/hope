(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(572)}])},572:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return D}});var t=r(5893),o=r(7294),s=r(3156),i=r(1519),l={height:"700px",border:"1px dashed #3a3a3a",borderRadius:"4px"},a="#ddd",c="#c586c0",d="#ffec0c",u="#00c184",f="#8f0",p="#226feb",m="#ce9278",h="#73e2ff",x={margin:"1em 0 0.5em 0"},v={margin:"0",border:"none",opacity:0},g={x:0,y:0,mass:10,font:{color:a,size:28}},b={font:{color:h}},Z={font:{color:d}},w={font:{color:c}},C={font:{color:p}},j={font:{color:m}},L={color:c,dashes:!0},k={length:5,color:m},T={color:m},V={color:"#0f0",dashes:!0,label:"yes"},P={color:"#f00",dashes:!0,label:"no"},S={clickToUse:!0,nodes:{borderWidth:0,color:"#121212",mass:1.1,font:{size:22}},edges:{color:"#888",length:.01,font:{size:20,color:a,strokeWidth:0},smooth:!0,width:1,arrows:{to:{enabled:!0,scaleFactor:.6}}}},_=r(7918);function y(e){var n,r=e.token,o=e.index,s="#bbb",l="";if("Linebreak"===r)return(0,t.jsx)(i.Z,{sx:v},o);if("Dot"===r)l=".",s=c;else if("This"===r)l="this",s=m;else if("CollectionEnd"===r)l="|",s=u;else if(null===r||void 0===r||null===(n=r.V)||void 0===n?void 0:n.Lst)l="[",s=u;else if("string"===typeof r)l=r.toLowerCase();else if(r.Term)l=r.Term,s=h;else if("F"in r)l=r.F.toLowerCase(),s=d;else if("P"in r)l=r.P.toLowerCase(),s="#0082ab";else if("C"in r)l=r.C.toLowerCase(),s=p;else if("A"in r)s=f,l=r.A.toLowerCase().replace("plus","+").replace("minus","-").replace("multiplication","*").replace("division","/");else if("V"in r){var a=r.V;s=m,"Num"in a&&(l=a.Num.value),"I"in a&&(l="@"+a.I.scheme.Custom+(a.I.domain?":"+a.I.domain:"")),"Txt"in a&&(l=a.Txt)}else l=JSON.stringify(r).toLowerCase();return 0==o&&(s="#fff"),(0,t.jsx)(_.Z,{size:"small",label:l,sx:{background:"none",height:"20px",color:s,"& .MuiChip-label":{padding:"0 2px"}}},o)}var E=r(7357),N=r(1644);function I(e){return(0,t.jsx)(E.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:(0,t.jsx)(N.Z,{id:"multiline-static",sx:{marginBottom:0,marginTop:0,fontSize:"13px !important"},inputProps:{style:{fontSize:14}},multiline:!0,rows:4,fullWidth:!0,onChange:function(n){return e.setScript(n.target.value)},value:e.script,spellCheck:!1})})}var z=r(1799),A=r(5152),O=r.n(A)()((function(){return Promise.all([r.e(814),r.e(959),r.e(123)]).then(r.bind(r,6123))}),{loadableGenerated:{webpack:function(){return[6123]}},ssr:!1}),F=function(e){return JSON.stringify(e).toLowerCase().replaceAll('"',"")};function W(e){var n=e.nodes,r=e.edges;if(0==n.length)return null;var o=n.map((function(e,n){var r,t,o,s=n;return 0==s?(0,z.Z)({id:s,label:e.Term},g):"This"==e?(0,z.Z)({id:s,label:"result"},j):"Or"==e||"Edge"==e?(0,z.Z)({id:s,label:e.toLowerCase()},w):e.Term?(0,z.Z)({id:s,label:e.Term.toLowerCase()},b):e.F?(0,z.Z)({id:s,label:e.F.toLowerCase()},Z):e.C?(0,z.Z)({id:s,label:e.C.toLowerCase()},C):e.V?(0,z.Z)({id:s,label:e.V.Lst?"[ ]":e.V.Txt?e.V.Txt:e.V.I?"@"+(null===(r=e.V.I)||void 0===r||null===(t=r.scheme)||void 0===t?void 0:t.Custom):(null===(o=e.V.Num)||void 0===o?void 0:o.value)||e.V},j):(0,z.Z)({id:s,label:F(e)},Z)})),s=r.map((function(e){var n=e[0],r=e[1];return e[2].P?(0,z.Z)({from:n,to:r,label:e[2].P.toLowerCase()},k):"Input"==e[2]?(0,z.Z)({from:n,to:r},T):"Edge"==e[2]?(0,z.Z)({from:n,to:r},L):e[2].V?(0,z.Z)({from:n,to:r},"Yes"==e[2].V?V:P):void 0}));return(0,t.jsx)(O,{graph:{nodes:o,edges:s},options:S,style:l})}var J=r(6886),R=r(5568);function D(){var e,n=(0,o.useState)({nodes:[],edges:[]}),l=n[0],a=n[1],c=(0,o.useState)(""),d=c[0],u=c[1],f=(0,o.useState)([]),p=f[0],m=f[1],h=(0,o.useState)(null),v=h[0],g=h[1],b=(0,o.useRef)();return(0,o.useEffect)((function(){b.current=new Worker(r.tu(new URL(r.p+r.u(92),r.b))),b.current.addEventListener("message",(function(e){var n=e.data,r=n.type,t=n.test,o=n.tokens,s=n.graph,i=n.error;switch(r){case"test_script":return void u(t);case"build":return g(null),m(o),void a(s);case"error":return m([]),a({nodes:[],edges:[]}),void g(i)}}))}),[]),(0,o.useEffect)((function(){b.current&&b.current.postMessage({type:"build",script:d})}),[d]),(0,t.jsxs)(s.Z,{maxWidth:"lg",children:[(0,t.jsxs)(J.ZP,{container:!0,spacing:2,children:[(0,t.jsxs)(J.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsx)(i.Z,{sx:x,children:"Script"}),(0,t.jsx)(I,{script:d,setScript:u})]}),v&&(0,t.jsx)(J.ZP,{item:!0,xs:12,children:(0,t.jsx)(R.Z,{severity:"error",children:(e=v,JSON.stringify(e).replaceAll('\\"',"").replaceAll('"',"").replaceAll(/[{}]/g,"").replace(":",":  "))})}),p.length>0&&(0,t.jsxs)(J.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsx)(i.Z,{sx:x,children:"Tokens"}),(0,t.jsx)(s.Z,{sx:{padding:"12px 12px 0 !important"},children:null===p||void 0===p?void 0:p.map((function(e){var n=e.index,r=e.token;return(0,t.jsx)(y,{token:r,index:n},n)}))})]})]}),l.nodes.length>0&&(0,t.jsxs)(J.ZP,{item:!0,xs:12,children:[(0,t.jsx)(i.Z,{sx:x,children:"Graph"}),(0,t.jsx)(W,{nodes:l.nodes,edges:l.edges})]})]})}}},function(e){e.O(0,[74,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);