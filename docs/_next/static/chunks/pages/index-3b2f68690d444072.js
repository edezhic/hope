(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4906)}])},4906:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(5893),i=n(7294),s=n(3156),o=n(1519),l={height:"700px",border:"1px dashed #3a3a3a",borderRadius:"4px"},a="#ddd",u="#c586c0",c="#ffec0c",d="#00c184",f="#8f0",p="#226feb",m="#ce9278",h="#73e2ff",x={margin:"1em 0 0.5em 0"},g={margin:"0",opacity:0},v={x:0,y:0,mass:10,font:{color:a,size:28}},b={font:{color:h}},Z={font:{color:c}},w={font:{color:m}},C={color:u,dashes:!0},j={length:5,color:m},L={color:m},T={clickToUse:!0,nodes:{borderWidth:0,color:"#121212",mass:1.1,font:{size:22}},edges:{color:"#888",length:.01,font:{size:20,color:a,strokeWidth:0},smooth:!0,width:1,arrows:{to:{enabled:!0,scaleFactor:.6}}}},_=n(253),k=n(7918);function S(e){var t,n=e.item,i=e.i,s=(0,_.Z)(n,2),l=s[0],a=s[1],x="#bbb",v="";if("Linebreak"===a)return(0,r.jsx)(o.Z,{sx:g},l);if("Dot"===a)v=".",x=u;else if("This"===a)v="this",x=m;else if("CollectionEnd"===a)v="|",x=d;else if(null===a||void 0===a||null===(t=a.V)||void 0===t?void 0:t.Lst)v="[",x=d;else if("string"===typeof a)v=a.toLowerCase();else if(a.Term)v=a.Term,x=h;else if("F"in a)v=a.F.toLowerCase(),x=c;else if("P"in a)v=a.P.toLowerCase(),x="#0082ab";else if("C"in a)v=a.C.toLowerCase(),x=u;else if("R"in a)v=a.R.toLowerCase(),x=p;else if("A"in a)x=f,v=a.A.toLowerCase().replace("plus","+").replace("minus","-").replace("multiplication","*").replace("division","/");else if("V"in a){var b=a.V;x=m,"Num"in b&&(v=b.Num.value),"I"in b&&(v="@"+b.I.scheme.Custom+(b.I.domain?":"+b.I.domain:"")),"Txt"in b&&(v=b.Txt)}else v=JSON.stringify(a).toLowerCase();return 0==i&&(x="#fff"),(0,r.jsx)(k.Z,{size:"small",label:v,sx:{background:"none",color:x,"& .MuiChip-label":{padding:"0 3px"}}},l)}var y=n(7357),P=n(1644);function N(e){return(0,r.jsx)(y.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:(0,r.jsx)(P.Z,{id:"multiline-static",sx:{marginBottom:0,marginTop:0,fontSize:"13px !important"},inputProps:{style:{fontSize:14}},multiline:!0,rows:4,fullWidth:!0,onChange:function(t){return e.setScript(t.target.value)},value:e.script,spellCheck:!1})})}var E=n(1799),V=n(5152),I=n.n(V)()((function(){return Promise.all([n.e(814),n.e(959),n.e(123)]).then(n.bind(n,6123))}),{loadableGenerated:{webpack:function(){return[6123]}},ssr:!1});function z(e){var t=e.nodes,n=e.edges;if(0==t.length)return null;var i=t.map((function(e,t){var n,r,i,s=t;return 0==s?(0,E.Z)({id:s,label:e.Term},v):"This"==e?(0,E.Z)({id:s,label:"result"},w):e.Term?(0,E.Z)({id:s,label:e.Term.toLowerCase()},b):e.F?(0,E.Z)({id:s,label:e.F.toLowerCase()},Z):e.V?(0,E.Z)({id:s,label:e.V.Lst?"[ ]":e.V.I?"@"+(null===(n=e.V.I)||void 0===n||null===(r=n.scheme)||void 0===r?void 0:r.Custom):(null===(i=e.V.Num)||void 0===i?void 0:i.value)||e.V},w):(0,E.Z)({id:s,label:e},Z)})),s=n.map((function(e){var t=e[0],n=e[1];return e[2].P?(0,E.Z)({from:t,to:n,label:e[2].P.toLowerCase()},j):"Input"==e[2]?(0,E.Z)({from:t,to:n},L):"Edge"==e[2]?(0,E.Z)({from:t,to:n},C):void 0}));return(0,r.jsx)(I,{graph:{nodes:i,edges:s},options:T,style:l})}var F=n(6886),A=n(5568);function O(){var e,t=(0,i.useState)({nodes:[],edges:[]}),l=t[0],a=t[1],u=(0,i.useState)(""),c=u[0],d=u[1],f=(0,i.useState)([]),p=f[0],m=f[1],h=(0,i.useState)(null),g=h[0],v=h[1],b=(0,i.useRef)();return(0,i.useEffect)((function(){b.current=new Worker(n.tu(new URL(n.p+n.u(887),n.b))),b.current.addEventListener("message",(function(e){switch(e.data.type){case"test":return void d(e.data.test);case"build":return v(null),m(e.data.tokens),void a(e.data.graph);case"error":return m([]),a({nodes:[],edges:[]}),void v(e.data.e)}})),b.current.postMessage({type:"get_test"})}),[]),(0,i.useEffect)((function(){b.current&&""!=c&&b.current.postMessage({type:"get_build",script:c})}),[c]),(0,r.jsxs)(s.Z,{maxWidth:"lg",children:[(0,r.jsxs)(F.ZP,{container:!0,spacing:2,children:[(0,r.jsxs)(F.ZP,{item:!0,xs:6,children:[(0,r.jsx)(o.Z,{sx:x,children:"Script"}),(0,r.jsx)(N,{script:c,setScript:d})]}),g&&(0,r.jsx)(F.ZP,{item:!0,xs:12,children:(0,r.jsx)(A.Z,{severity:"error",children:(e=g,JSON.stringify(e).replaceAll('\\"',"").replaceAll('"',"").replaceAll(/[{}]/g,"").replace(":",":  "))})}),p.length>0&&(0,r.jsxs)(F.ZP,{item:!0,xs:6,children:[(0,r.jsx)(o.Z,{sx:x,children:"Tokens"}),(0,r.jsx)(s.Z,{sx:{padding:"12px 12px 0 !important"},children:null===p||void 0===p?void 0:p.map((function(e,t){return(0,r.jsx)(S,{item:e,i:t},JSON.stringify(e)+t)}))})]})]}),l.nodes.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{sx:x,children:"Graph"}),(0,r.jsx)(z,{nodes:l.nodes,edges:l.edges})]})]})}}},function(e){e.O(0,[877,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);