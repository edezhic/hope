(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3300)}])},3300:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return R}});var o=r(5893),i=r(7294),s=r(7948),l=r(1519),a={height:"650px"},n="#ddd",f="#bbb",u="#dacc29",c="#42d842",m="#00c184",d="#8f0",b=n,p="#41afd2",y={margin:"1em 0 0.5em 0"},h={margin:"0.1em 0 0.5em 0",opacity:0};function x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(e){x(t,e,r[e])}))}return t}var w={mass:4,font:{color:f}},z={mass:4,font:{color:c}},v={mass:4,font:{color:m}},_={mass:4,font:{color:d}},S={mass:4,font:{color:u}},j={font:{color:b}},O={color:f,dashes:!0,arrows:{to:{enabled:!1}}},k={color:c},C={color:p},E={color:n,dashes:!0},T={color:f},L={clickToUse:!0,nodes:{borderWidth:0,color:"#121212",mass:.3,font:{size:22}},edges:{color:"#888",font:{size:18,color:n,strokeWidth:0},smooth:!0,width:1,arrows:{to:{enabled:!0,scaleFactor:.6}}}},N={graph:{nodes:[g({id:"graphscript",label:"graphscript"},{x:0,y:0,fixed:{x:!0,y:!0},mass:10,font:{color:n,size:30}}),g({id:"assign_z",label:"be"},w),g({id:"list",label:"list"},v),g({id:"assign_xyz",label:"be"},w),g({id:"formula",label:"+ +"},_),g({id:"assign_s",label:"be"},w),g({id:"show1",label:"show"},z),g({id:"sum",label:"sum"},z),g({id:"show2",label:"show"},z),g({id:"if",label:"if"},S),g({id:"less",label:"less"},S),g({id:"more",label:"more"},S),g({id:"show3",label:"show"},z),g({id:"struct",label:"struct"},v),g({id:"when",label:"when"},S),g({id:"x1",label:"x"},j),g({id:"y1",label:"y"},j),g({id:"z1",label:"z"},j),g({id:"x2",label:"x"},j),g({id:"y2",label:"y"},j),g({id:"z2",label:"z"},j),g({id:"x3",label:"x"},j),g({id:"y3",label:"y"},j),g({id:"z3",label:"z"},j),g({id:"x4",label:"x"},j),g({id:"y4",label:"y"},j),g({id:"x5",label:"x"},j),g({id:"y5",label:"y"},j),g({id:"z5",label:"z"},j),g({id:"s1",label:"s"},j),g({id:"s2",label:"s"},j),g({id:"s3",label:"s"},j),g({id:"xyz1",label:"xyz"},j),g({id:"xyz2",label:"xyz"},j),g({id:"xyz3",label:"xyz"},j),g({id:"it1",label:"it"},j),g({id:"it2",label:"it"},j),g({id:"it3",label:"it"},j),g({id:"it4",label:"it"},j),g({id:"it5",label:"it"},j),g({id:"it6",label:"it"},j),g({id:"it7",label:"it"},j),g({id:"it8",label:"it"},j),g({id:1,label:"1"},j),g({id:2,label:"2"},j),g({id:3,label:"3"},j)],edges:[g({from:"graphscript",to:"x1"},O),g({from:"graphscript",to:"y1",label:"of"},O),g({from:"graphscript",to:"assign_z"},E),g({from:1,to:"assign_z"},C),g({from:"assign_z",to:"z1"},k),g({from:"assign_z",to:"list"},E),g({from:"x2",to:"list"},C),g({from:"y2",to:"list"},C),g({from:"z2",to:"list"},C),g({from:"list",to:"it7"},k),g({from:"list",to:"assign_xyz"},E),g({from:"it8",to:"assign_xyz"},C),g({from:"assign_xyz",to:"xyz1"},k),g({from:"assign_xyz",to:"formula"},E),g({from:"x3",to:"formula"},C),g({from:"y3",to:"formula"},C),g({from:"z3",to:"formula"},C),g({from:"formula",to:"it1"},k),g({from:"it2",to:"assign_s"},C),g({from:"formula",to:"assign_s"},E),g({from:"assign_s",to:"s1"},k),g({from:"assign_s",to:"show1"},T),g({from:"s2",to:"show1"},C),g({from:"show1",to:"sum"},E),g({from:"xyz2",to:"sum"},C),g({from:"sum",to:"show2"},E),g({from:"sum",to:"it3"},k),g({from:"it4",to:"show2"},C),g({from:"show2",to:"if"},T),g({from:"if",to:"less"},E),g({from:"x4",to:"less"},C),g({from:2,to:"less"},C),g({from:"less",to:"more"},E),g({from:"y4",to:"more"},C),g({from:3,to:"more"},C),g({from:"more",to:"struct"},E),g({from:"show",to:"if"},E),g({from:"if",to:"when"},T),g({from:"struct",to:"show3"},E),g({from:"struct",to:"it5"},k),g({from:"it6",to:"show3"},C),g({from:"x5",to:"struct"},C),g({from:"y5",to:"struct"},C),g({from:"z5",to:"struct"},C),g({from:"s3",to:"struct"},C),g({from:"xyz3",to:"struct"},C),g({from:"show3",to:"if"},T)]}},Z=r(6135);function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var o,i,s=[],l=!0,a=!1;try{for(r=r.call(t);!(l=(o=r.next()).done)&&(s.push(o.value),!e||s.length!==e);l=!0);}catch(n){a=!0,i=n}finally{try{l||null==r.return||r.return()}finally{if(a)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t){var e=t.item,r=t.i,i=P(e,2),s=i[0],a=i[1],n=u,f="";if("Break"===a)return(0,o.jsx)(l.Z,{sx:h},s);if("This"===a)f="result",n=b;else if("ListEnd"===a)f="]",n=m;else if("ListStart"===a)f="[",n=m;else if("StructEnd"===a)f="}",n=m;else if("StructStart"===a)f="{",n=m;else if("FormulaEnd"===a)f=")",n=d;else if("FormulaStart"===a)f="(",n=d;else if("string"===typeof a)f=a.toLowerCase();else if("Cmd"in a)f=a.Cmd.toLowerCase(),n=c;else if("Mod"in a)f=a.Mod.toLowerCase(),n=p;else if("Op"in a)n=d,f=a.Op.toLowerCase().replace("plus","+").replace("minus","-").replace("multiplication","*").replace("division","/");else if("Value"in a){var y=a.Value;n=b,"Number"in y&&(f=y.Number.value),"Id"in y&&(f="Ref"===y.Id.scheme?y.Id.domain.toLowerCase():y.Id.scheme.Custom),"Text"in y&&(f=y.Text),"Fact"in y&&(f=y.Fact.toString())}return 0==r&&(n="#fff"),(0,o.jsx)(Z.Z,{size:"small",label:f,sx:{background:"none",color:n}},s)}var W=r(5333),F=r(9779);function M(t){return(0,o.jsxs)(W.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(t){return t.preventDefault()},children:[(0,o.jsx)(F.Z,{id:"standard-basic",label:"Title",fullWidth:!0,className:"script-title",variant:"standard",onChange:function(e){return t.setScript([e.target.value,t.script[1]])},value:t.script[0]}),(0,o.jsx)(F.Z,{id:"multiline-static",label:"Body",sx:{marginBottom:2,marginTop:4},multiline:!0,rows:8,fullWidth:!0,onChange:function(e){return t.setScript([t.script[0],e.target.value])},value:t.script[1]})]})}var B=(0,r(5152).default)((function(){return Promise.all([r.e(814),r.e(959),r.e(123)]).then(r.bind(r,6123))}),{loadableGenerated:{webpack:function(){return[6123]}},ssr:!1});function R(){var t=(0,i.useState)(N),e=t[0],n=(t[1],(0,i.useState)(["",""])),f=n[0],u=n[1],c=(0,i.useState)([]),m=c[0],d=c[1],b=(0,i.useState)(0),p=b[0],h=(b[1],(0,i.useRef)());return(0,i.useEffect)((function(){h.current=new Worker(new URL(r.p+r.u(57),r.b)),h.current.addEventListener("message",(function(t){"tests"==t.data.type&&u(t.data.tests[p]),"tokens"==t.data.type&&d(t.data.tokens)})),h.current.postMessage({type:"get_tests"})}),[]),(0,i.useEffect)((function(){h.current&&h.current.postMessage({type:"build",title:f[0],body:f[1]})}),[f]),(0,o.jsxs)(s.Z,{maxWidth:"md",children:[(0,o.jsx)(l.Z,{sx:y,children:"Script"}),(0,o.jsx)(M,{script:f,setScript:u}),(0,o.jsx)(l.Z,{sx:y,children:"Tokens"}),null===m||void 0===m?void 0:m.map((function(t,e){return(0,o.jsx)(A,{item:t,i:e},JSON.stringify(t)+e)})),(0,o.jsx)(l.Z,{sx:y,children:"Graph"}),(0,o.jsx)(B,{graph:e.graph,options:L,style:a})]})}}},function(t){t.O(0,[216,774,888,179],(function(){return e=5301,t(t.s=e);var e}));var e=t.O();_N_E=e}]);