(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4906)}])},4906:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var r=n(5893),i=n(7294),o=n(3156),s=n(1519),l={height:"600px",border:"1px dashed #3a3a3a",borderRadius:"4px"},a="#ddd",u="#c586c0",d="#ffec0c",c="#00c184",f="#8f0",p="#226feb",m="#ce9278",h="#73e2ff",g={margin:"1em 0 0.5em 0"},x={margin:"0",opacity:0},v={x:0,y:0,mass:10,font:{color:a,size:28}},b={font:{color:h}},w={font:{color:d}},C={font:{color:m}},Z={color:u,dashes:!0},j={length:5,color:m},L={color:m},T={clickToUse:!0,nodes:{borderWidth:0,color:"#121212",mass:1.1,font:{size:22}},edges:{color:"#888",length:.01,font:{size:20,color:a,strokeWidth:0},smooth:!0,width:1,arrows:{to:{enabled:!0,scaleFactor:.6}}}},_=n(253),k=n(7918);function S(e){var t,n=e.item,i=e.i,o=(0,_.Z)(n,2),l=o[0],a=o[1],g="#bbb",v="";if("Linebreak"===a)return(0,r.jsx)(s.Z,{sx:x},l);if("Dot"===a)v=".",g=u;else if("This"===a)v="this",g=m;else if("CollectionEnd"===a)v="]/}",g=c;else if(null===a||void 0===a||null===(t=a.V)||void 0===t?void 0:t.Lst)v="[",g=c;else if("string"===typeof a)v=a.toLowerCase();else if(a.Term)v=a.Term,g=h;else if("F"in a)v=a.F.toLowerCase(),g=d;else if("P"in a)v=a.P.toLowerCase(),g="#0082ab";else if("C"in a)v=a.C.toLowerCase(),g=u;else if("R"in a)v=a.R.toLowerCase(),g=p;else if("A"in a)g=f,v=a.A.toLowerCase().replace("plus","+").replace("minus","-").replace("multiplication","*").replace("division","/");else if("V"in a){var b=a.V;g=m,"Num"in b&&(v=b.Num.value),"I"in b&&(v="@"+b.I.scheme.Custom+(b.I.domain?":"+b.I.domain:"")),"Txt"in b&&(v=b.Txt)}else v=JSON.stringify(a).toLowerCase();return 0==i&&(g="#fff"),(0,r.jsx)(k.Z,{size:"small",label:v,sx:{background:"none",color:g,"& .MuiChip-label":{padding:"0 3px"}}},l)}var y=n(5333),N=n(4584);function E(e){return(0,r.jsx)(y.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){return e.preventDefault()},children:(0,r.jsx)(N.Z,{id:"multiline-static",sx:{marginBottom:0,marginTop:0,fontSize:"13px !important"},inputProps:{style:{fontSize:15}},multiline:!0,rows:3,fullWidth:!0,onChange:function(t){return e.setScript(t.target.value)},value:e.script,spellCheck:!1})})}var V=n(1799),A=n(5152),F=n.n(A)()((function(){return Promise.all([n.e(814),n.e(959),n.e(123)]).then(n.bind(n,6123))}),{loadableGenerated:{webpack:function(){return[6123]}},ssr:!1});function P(e){var t=e.nodes,n=e.edges;if(0==t.length)return null;var i=t.map((function(e,t){var n,r,i,o=t;return 0==o?(0,V.Z)({id:o,label:e.Term},v):"This"==e?(0,V.Z)({id:o,label:"result"},C):e.Term?(0,V.Z)({id:o,label:e.Term.toLowerCase()},b):e.F?(0,V.Z)({id:o,label:e.F.toLowerCase()},w):e.V?(0,V.Z)({id:o,label:e.V.Lst?"[ ]":e.V.I?"@"+(null===(n=e.V.I)||void 0===n||null===(r=n.scheme)||void 0===r?void 0:r.Custom):(null===(i=e.V.Num)||void 0===i?void 0:i.value)||e.V},C):(0,V.Z)({id:o,label:e},w)})),o=n.map((function(e){var t=e[0],n=e[1];return e[2].P?(0,V.Z)({from:t,to:n,label:e[2].P.toLowerCase()},j):"Input"==e[2]?(0,V.Z)({from:t,to:n},L):"Edge"==e[2]?(0,V.Z)({from:t,to:n},Z):void 0}));return(0,r.jsx)(F,{graph:{nodes:i,edges:o},options:T,style:l})}var I=n(5568);function z(){var e,t=(0,i.useState)({nodes:[],edges:[]}),l=t[0],a=t[1],u=(0,i.useState)(""),d=u[0],c=u[1],f=(0,i.useState)([]),p=f[0],m=f[1],h=(0,i.useState)(null),x=h[0],v=h[1],b=(0,i.useRef)();return(0,i.useEffect)((function(){b.current=new Worker(n.tu(new URL(n.p+n.u(887),n.b))),b.current.addEventListener("message",(function(e){switch(e.data.type){case"test":return void c(e.data.test);case"build":return v(null),m(e.data.tokens),void a(e.data.graph);case"error":return m([]),a({nodes:[],edges:[]}),void v(e.data.e)}})),b.current.postMessage({type:"get_test"})}),[]),(0,i.useEffect)((function(){b.current&&""!=d&&b.current.postMessage({type:"get_build",script:d})}),[d]),(0,r.jsxs)(o.Z,{maxWidth:"md",children:[(0,r.jsx)(s.Z,{sx:g,textAlign:"right",children:"Script"}),(0,r.jsx)(E,{script:d,setScript:c}),x&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(I.Z,{severity:"error",children:(e=x,JSON.stringify(e).replaceAll('\\"',"").replaceAll('"',"").replaceAll(/[{}]/g,"").replace(":",":  "))})}),p.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{sx:g,textAlign:"right",children:"Tokens"}),(0,r.jsx)(o.Z,{sx:{padding:"0 12px !important"},children:null===p||void 0===p?void 0:p.map((function(e,t){return(0,r.jsx)(S,{item:e,i:t},JSON.stringify(e)+t)}))})]}),l.nodes.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{sx:g,textAlign:"right",children:"Graph"}),(0,r.jsx)(P,{nodes:l.nodes,edges:l.edges})]})]})}}},function(e){e.O(0,[86,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);