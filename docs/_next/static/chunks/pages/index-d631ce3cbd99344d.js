(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3300)}])},3300:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return U}});var o=r(5893),i=r(7294),s=r(7948),l=r(1519),n={height:"650px"},a="#ddd",f="#bbb",u="#dacc29",c="#42d842",m="#00c184",d="#8f0",b="#41afd2",p="#005772",y={margin:"1em 0 0.5em 0"},h={margin:"0.1em 0 0.5em 0",opacity:0};function x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(e){x(t,e,r[e])}))}return t}var w={mass:4,font:{color:f}},z={mass:4,font:{color:c}},v={mass:4,font:{color:m}},_={mass:4,font:{color:d}},S={mass:4,font:{color:u}},j={font:{color:b}},O={font:{color:a}},k={color:f,dashes:!0,arrows:{to:{enabled:!1}}},C={color:b},E={color:p},T={color:a,dashes:!0},L={color:f},N={clickToUse:!0,nodes:{borderWidth:0,color:"#121212",mass:.3,font:{size:22}},edges:{color:"#888",font:{size:18,color:a,strokeWidth:0},smooth:!0,width:1,arrows:{to:{enabled:!0,scaleFactor:.6}}}},Z={graph:{nodes:[g({id:"graphscript",label:"graphscript"},{x:0,y:0,fixed:{x:!0,y:!0},mass:10,font:{color:a,size:30}}),g({id:"assign_z",label:"be"},w),g({id:"list",label:"list"},v),g({id:"assign_xyz",label:"be"},w),g({id:"formula",label:"+ +"},_),g({id:"assign_s",label:"be"},w),g({id:"show1",label:"show"},z),g({id:"sum",label:"sum"},z),g({id:"show2",label:"show"},z),g({id:"if",label:"if"},S),g({id:"less",label:"less"},S),g({id:"more",label:"more"},S),g({id:"show3",label:"show"},z),g({id:"struct",label:"struct"},v),g({id:"when",label:"when"},S),g({id:"x1",label:"x"},j),g({id:"y1",label:"y"},j),g({id:"z1",label:"z"},j),g({id:"x2",label:"x"},j),g({id:"y2",label:"y"},j),g({id:"z2",label:"z"},j),g({id:"x3",label:"x"},j),g({id:"y3",label:"y"},j),g({id:"z3",label:"z"},j),g({id:"x4",label:"x"},j),g({id:"y4",label:"y"},j),g({id:"x5",label:"x"},j),g({id:"y5",label:"y"},j),g({id:"z5",label:"z"},j),g({id:"s1",label:"s"},j),g({id:"s2",label:"s"},j),g({id:"s3",label:"s"},j),g({id:"xyz1",label:"xyz"},j),g({id:"xyz2",label:"xyz"},j),g({id:"xyz3",label:"xyz"},j),g({id:"it1",label:"it"},j),g({id:"it2",label:"it"},j),g({id:"it3",label:"it"},j),g({id:"it4",label:"it"},j),g({id:"it5",label:"it"},j),g({id:"it6",label:"it"},j),g({id:"it7",label:"it"},j),g({id:"it8",label:"it"},j),g({id:1,label:"1"},O),g({id:2,label:"2"},O),g({id:3,label:"3"},O)],edges:[g({from:"graphscript",to:"x1"},k),g({from:"graphscript",to:"y1",label:"of"},k),g({from:"graphscript",to:"assign_z"},T),g({from:1,to:"assign_z"},E),g({from:"assign_z",to:"z1"},C),g({from:"assign_z",to:"list"},T),g({from:"x2",to:"list"},E),g({from:"y2",to:"list"},E),g({from:"z2",to:"list"},E),g({from:"list",to:"it7"},C),g({from:"list",to:"assign_xyz"},T),g({from:"it8",to:"assign_xyz"},E),g({from:"assign_xyz",to:"xyz1"},C),g({from:"assign_xyz",to:"formula"},T),g({from:"x3",to:"formula"},E),g({from:"y3",to:"formula"},E),g({from:"z3",to:"formula"},E),g({from:"formula",to:"it1"},C),g({from:"it2",to:"assign_s"},E),g({from:"formula",to:"assign_s"},T),g({from:"assign_s",to:"s1"},C),g({from:"assign_s",to:"show1"},L),g({from:"s2",to:"show1"},E),g({from:"show1",to:"sum"},T),g({from:"xyz2",to:"sum"},E),g({from:"sum",to:"show2"},T),g({from:"sum",to:"it3"},C),g({from:"it4",to:"show2"},E),g({from:"show2",to:"if"},L),g({from:"if",to:"less"},T),g({from:"x4",to:"less"},E),g({from:2,to:"less"},E),g({from:"less",to:"more"},T),g({from:"y4",to:"more"},E),g({from:3,to:"more"},E),g({from:"more",to:"struct"},T),g({from:"show",to:"if"},T),g({from:"if",to:"when"},L),g({from:"struct",to:"show3"},T),g({from:"struct",to:"it5"},C),g({from:"it6",to:"show3"},E),g({from:"x5",to:"struct"},E),g({from:"y5",to:"struct"},E),g({from:"z5",to:"struct"},E),g({from:"s3",to:"struct"},E),g({from:"xyz3",to:"struct"},E),g({from:"show3",to:"if"},L)]}},I=r(6135);function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var o,i,s=[],l=!0,n=!1;try{for(r=r.call(t);!(l=(o=r.next()).done)&&(s.push(o.value),!e||s.length!==e);l=!0);}catch(a){n=!0,i=a}finally{try{l||null==r.return||r.return()}finally{if(n)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t){var e=t.item,r=t.i,i=A(e,2),s=i[0],n=i[1],y=u,x="";if("Break"===n)return(0,o.jsx)(l.Z,{sx:h},s);if("Being"===n)x="is",y=f;else if("This"===n)x="result",y=b;else if("ListEnd"===n)x="]",y=m;else if("ListStart"===n)x="[",y=m;else if("StructEnd"===n)x="}",y=m;else if("StructStart"===n)x="{",y=m;else if("FormulaEnd"===n)x=")",y=d;else if("FormulaStart"===n)x="(",y=d;else if("string"===typeof n)x=n.toLowerCase();else if("Cmd"in n)x=n.Cmd.toLowerCase(),y=c;else if("Mod"in n)x=n.Mod.toLowerCase(),y=p;else if("Op"in n)y=d,x=n.Op.toLowerCase().replace("plus","+").replace("minus","-").replace("multiplication","*").replace("division","/");else if("Value"in n){var g=n.Value;y="#bbb","Number"in g&&(x=g.Number.value),"Id"in g&&("Ref"===g.Id.scheme?(x=g.Id.domain.toLowerCase(),y=b):x=g.Id.scheme.Custom),"Text"in g&&(x=g.Text),"Fact"in g&&(x=g.Fact.toString())}return 0==r&&(y=a),(0,o.jsx)(I.Z,{size:"small",label:x,sx:{background:"none",color:y}},s)}var F=r(5333),M=r(9779);function B(t){return(0,o.jsxs)(F.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(t){return t.preventDefault()},children:[(0,o.jsx)(M.Z,{id:"standard-basic",label:"Title",fullWidth:!0,className:"script-title",variant:"standard",onChange:function(e){return t.setScript([e.target.value,t.script[1]])},value:t.script[0]}),(0,o.jsx)(M.Z,{id:"multiline-static",label:"Body",sx:{marginBottom:2,marginTop:4},multiline:!0,rows:8,fullWidth:!0,onChange:function(e){return t.setScript([t.script[0],e.target.value])},value:t.script[1]})]})}var R=(0,r(5152).default)((function(){return Promise.all([r.e(814),r.e(959),r.e(123)]).then(r.bind(r,6123))}),{loadableGenerated:{webpack:function(){return[6123]}},ssr:!1});function U(){var t=(0,i.useState)(Z),e=t[0],a=(t[1],(0,i.useState)(["",""])),f=a[0],u=a[1],c=(0,i.useState)([]),m=c[0],d=c[1],b=(0,i.useState)(0),p=b[0],h=(b[1],(0,i.useRef)());return(0,i.useEffect)((function(){h.current=new Worker(new URL(r.p+r.u(57),r.b)),h.current.addEventListener("message",(function(t){"tests"==t.data.type&&u(t.data.tests[p]),"tokens"==t.data.type&&d(t.data.tokens)})),h.current.postMessage({type:"get_tests"})}),[]),(0,i.useEffect)((function(){h.current&&h.current.postMessage({type:"build",title:f[0],body:f[1]})}),[f]),(0,o.jsxs)(s.Z,{maxWidth:"md",children:[(0,o.jsx)(l.Z,{sx:y,children:"Script"}),(0,o.jsx)(B,{script:f,setScript:u}),(0,o.jsx)(l.Z,{sx:y,children:"Tokens"}),null===m||void 0===m?void 0:m.map((function(t,e){return(0,o.jsx)(W,{item:t,i:e},JSON.stringify(t)+e)})),(0,o.jsx)(l.Z,{sx:y,children:"Graph"}),(0,o.jsx)(R,{graph:e.graph,options:N,style:n})]})}}},function(t){t.O(0,[216,774,888,179],(function(){return e=5301,t(t.s=e);var e}));var e=t.O();_N_E=e}]);